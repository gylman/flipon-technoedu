tsip_header_NameAddr.prototype=Object.create(tsip_header.prototype);tsip_header_NameAddr.prototype.s_display_name=null;tsip_header_NameAddr.prototype.o_uri=null;tsip_header_NameAddr.prototype.s_tag=null;tsip_header_From.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_To.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Refer_To.prototype=Object.create(tsip_header_NameAddr.prototype);tsip_header_Referred_By.prototype=Object.create(tsip_header_NameAddr.prototype);_tsip_machine_parser_header_NameAddr_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9];_tsip_machine_parser_header_NameAddr_key_offsets=[0,0,8,11,14,35,36,38,59,60,62,65,69,81,84,86,89,93,97,98,100,103,122,123,125,143,162,167,168,170,174,193,194,196,215,216,218,221,229,230,232,236,237,243,261,268,276,284,292,294,301,310,312,315,317,320,322,325,328,329,332,333,336,337,346,355,363,371,379,387,389,395,404,413,422,424,427,430,431,432,453,474,493,498,499,501,505,524,525,527,546,564,581,599,603,604,606,614,615,617,621,627,647,666,671,673,679,684,686,688,691,696,698,700,702,705,707,709,712,714,716,717,719,721,726,729];_tsip_machine_parser_header_NameAddr_trans_keys=[66,70,82,84,98,102,114,116,9,32,58,9,32,58,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,13,32,33,34,37,39,60,126,42,43,45,46,48,57,65,90,95,96,97,122,10,9,32,9,32,60,65,90,97,122,9,32,43,58,45,46,48,57,65,90,97,122,9,32,58,0,65535,62,0,65535,9,13,32,59,9,13,32,59,10,9,32,9,32,59,9,13,32,33,37,39,84,116,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,33,37,39,84,116,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,32,34,9,13,34,92,32,126,128,255,10,9,32,9,13,32,59,10,0,9,11,12,14,127,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,58,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,58,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,48,57,46,48,57,48,57,93,48,57,93,48,57,93,46,48,57,46,46,48,57,46,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,46,58,93,48,57,65,70,97,102,48,57,46,48,57,46,48,57,46,58,9,13,32,33,37,39,59,61,65,97,126,42,43,45,46,48,57,66,90,95,122,9,13,32,33,37,39,59,61,71,103,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,61,126,42,43,45,46,48,57,65,90,95,122,9,13,32,59,61,10,9,32,9,32,59,61,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,10,9,32,9,13,32,33,34,37,39,91,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,59,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,126,42,43,45,46,48,57,65,90,95,122,9,13,32,33,37,39,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,60,10,9,32,9,13,34,92,32,126,128,255,10,9,32,9,13,32,60,0,9,11,12,14,127,9,13,32,33,37,39,42,43,58,126,45,46,48,57,65,90,95,96,97,122,9,13,32,33,37,39,58,60,126,42,43,45,46,48,57,65,90,95,122,9,13,32,58,60,0,65535,9,13,32,59,0,65535,9,32,58,82,114,79,111,77,109,9,32,58,9,32,58,69,101,70,102,69,101,82,114,45,82,114,84,116,79,111,9,32,58,69,101,68,100,45,66,98,89,121,9,32,58,79,111,9,32,58,0];_tsip_machine_parser_header_NameAddr_single_lengths=[0,8,3,3,9,1,2,9,1,2,3,0,4,3,0,1,4,4,1,2,3,9,1,2,8,9,5,1,2,4,9,1,2,9,1,2,3,4,1,2,4,1,0,8,1,2,2,2,2,1,3,0,1,0,1,0,1,1,1,1,1,1,1,3,3,2,2,2,2,2,0,3,3,3,0,1,1,1,1,11,11,9,5,1,2,4,9,1,2,9,8,7,8,4,1,2,4,1,2,4,0,10,9,5,0,4,5,2,2,3,5,2,2,2,3,2,2,3,2,2,1,2,2,5,3,0];_tsip_machine_parser_header_NameAddr_range_lengths=[0,0,0,0,6,0,0,6,0,0,0,2,4,0,1,1,0,0,0,0,0,5,0,0,5,5,0,0,0,0,5,0,0,5,0,0,0,2,0,0,0,0,3,5,3,3,3,3,0,3,3,1,1,1,1,1,1,1,0,1,0,1,0,3,3,3,3,3,3,0,3,3,3,3,1,1,1,0,0,5,5,5,0,0,0,0,5,0,0,5,5,5,5,0,0,0,2,0,0,0,3,5,5,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];_tsip_machine_parser_header_NameAddr_index_offsets=[0,0,9,13,17,33,35,38,54,56,59,63,66,75,79,81,84,89,94,96,99,103,118,120,123,137,152,158,160,163,168,183,185,188,203,205,208,212,219,221,224,229,231,235,249,254,260,266,272,275,280,287,289,292,294,297,299,302,305,307,310,312,315,317,324,331,337,343,349,355,358,362,369,376,383,385,388,391,393,395,412,429,444,450,452,455,460,475,477,480,495,509,522,536,541,543,546,553,555,558,563,567,583,598,604,606,612,618,621,624,628,634,637,640,643,647,650,653,657,660,663,665,668,671,677,681];_tsip_machine_parser_header_NameAddr_indicies=[0,2,3,4,0,2,3,4,1,5,5,6,1,7,7,8,1,8,9,8,10,11,10,10,12,10,10,10,10,13,10,13,1,14,1,15,15,1,15,16,15,10,11,10,10,12,10,10,10,10,13,10,13,1,17,1,18,18,1,18,18,12,1,19,19,1,20,20,21,22,21,21,21,21,1,20,20,22,1,23,1,24,23,1,25,26,25,27,1,25,28,25,27,1,29,1,30,30,1,30,30,27,1,27,31,27,32,32,32,33,33,32,32,32,32,32,32,1,34,1,35,35,1,35,35,32,32,32,33,33,32,32,32,32,32,32,1,36,37,36,38,38,38,39,40,38,38,38,38,38,38,1,41,42,41,27,40,1,43,1,44,44,1,44,44,27,40,1,40,45,40,46,47,46,46,48,46,46,46,46,46,46,1,49,1,50,50,1,50,51,50,46,47,46,46,48,46,46,46,46,46,46,1,52,1,53,53,1,53,53,47,1,47,54,55,56,47,47,1,57,1,47,47,1,58,37,58,39,1,59,1,47,47,47,1,58,37,58,46,46,46,39,46,46,46,46,46,46,1,61,60,60,60,1,63,55,62,62,62,1,63,55,64,64,64,1,63,55,65,65,65,1,63,55,1,67,66,60,60,1,68,63,55,69,62,62,1,70,1,71,72,1,73,1,74,75,1,76,1,55,77,1,55,78,1,55,1,74,79,1,74,1,71,80,1,71,1,68,63,55,81,64,64,1,68,63,55,65,65,65,1,83,55,82,82,82,1,85,55,84,84,84,1,85,55,86,86,86,1,85,55,87,87,87,1,85,55,1,88,82,82,1,68,85,55,89,84,84,1,68,85,55,90,86,86,1,68,85,55,87,87,87,1,91,1,68,92,1,68,93,1,68,1,67,1,36,37,36,38,38,38,39,40,94,94,38,38,38,38,38,38,1,36,37,36,38,38,38,39,40,95,95,38,38,38,38,38,38,1,96,37,96,38,38,38,39,97,38,38,38,38,38,38,1,98,99,98,27,97,1,100,1,101,101,1,101,101,27,97,1,97,102,97,103,47,103,103,48,103,103,103,103,103,103,1,104,1,105,105,1,105,51,105,103,47,103,103,48,103,103,103,103,103,103,1,106,107,106,108,108,108,109,108,108,108,108,108,108,1,110,111,110,112,112,112,112,112,112,112,112,112,1,113,114,113,112,112,112,115,112,112,112,112,112,112,1,116,16,116,12,1,117,1,110,110,1,118,119,120,121,118,118,1,122,1,118,118,1,113,114,113,115,1,118,118,118,1,123,111,123,112,112,112,112,124,125,112,124,124,124,112,124,1,126,114,126,112,112,112,125,115,112,112,112,112,112,112,1,127,16,127,125,12,1,128,1,129,130,129,131,128,1,132,132,133,134,134,1,135,135,1,136,136,1,132,132,133,1,137,137,138,139,139,1,140,140,1,141,141,1,142,142,1,143,144,144,1,145,145,1,146,146,1,137,137,138,1,147,147,1,148,148,1,149,1,150,150,1,0,0,1,151,151,152,153,153,1,151,151,152,1,1,0];_tsip_machine_parser_header_NameAddr_trans_targs=[2,0,106,110,123,3,4,3,4,5,91,96,11,101,6,7,8,9,10,12,13,12,14,15,16,17,41,21,18,19,20,22,25,79,23,24,26,41,25,21,30,26,27,28,29,31,43,37,44,32,33,34,35,36,38,40,42,39,17,125,45,78,46,49,47,48,50,65,51,63,52,53,61,54,55,59,56,57,58,60,62,64,66,74,67,70,68,69,71,72,73,75,76,77,80,81,82,86,82,83,84,85,87,90,88,89,17,41,90,21,92,94,91,93,8,11,93,95,96,97,99,100,98,102,101,104,103,103,105,17,41,21,3,4,107,108,109,3,4,111,112,113,114,115,118,116,117,119,120,121,122,3,4,124];_tsip_machine_parser_header_NameAddr_trans_actions=[0,0,0,0,0,17,17,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,1,1,0,0,9,9,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,1,0,0,7,7,0,7,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3,3,3,11,11,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,13,13,0];tsip_machine_parser_header_NameAddr_start=1;tsip_machine_parser_header_NameAddr_first_final=125;tsip_machine_parser_header_NameAddr_error=0;tsip_machine_parser_header_NameAddr_en_main=1;function tsip_header_NameAddr(b,a,c){tsip_header.call(this,b);this.s_display_name=a?a.s_display_name:null;this.o_uri=a;this.s_tag=c}tsip_header_NameAddr.prototype.toString=function(){var a=tsip_uri_tostring(this.o_uri,true,true);if(a&&this.s_tag){a+=tsk_string_format(";tag={0}",this.s_tag)}return a};tsip_header_NameAddr.prototype.Parse=function(l){var e=0;var j=0;var v=l.length;var h=v;var w=tsk_buff_str2ib(l);var u;var m;e=tsip_machine_parser_header_NameAddr_start;var f,n,b,d,c,r,k;var o,i,a,q,t;var s;f=n=b=r=k=null;o=0;i=10;a=15;q=20;t=30;s=40;while(true){_trigger_goto=false;if(o<=0){if(j==v){o=t;continue}if(e==0){o=s;continue}}if(o<=i){b=_tsip_machine_parser_header_NameAddr_key_offsets[e];n=_tsip_machine_parser_header_NameAddr_index_offsets[e];f=_tsip_machine_parser_header_NameAddr_single_lengths[e];_break_match=false;do{if(f>0){_lower=b;_upper=b+f-1;while(true){if(_upper<_lower){break}_mid=_lower+((_upper-_lower)>>1);if(w[j]<_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_upper=_mid-1}else{if(w[j]>_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_lower=_mid+1}else{n+=(_mid-b);_break_match=true;break}}}if(_break_match){break}b+=f;n+=f}f=_tsip_machine_parser_header_NameAddr_range_lengths[e];if(f>0){_lower=b;_upper=b+(f<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(((_upper-_lower)>>1)&~1);if(w[j]<_tsip_machine_parser_header_NameAddr_trans_keys[_mid]){_upper=_mid-2}else{if(w[j]>_tsip_machine_parser_header_NameAddr_trans_keys[_mid+1]){_lower=_mid+2}else{n+=((_mid-b)>>1);_break_match=true;break}}}if(_break_match){break}n+=f}}while(false);n=_tsip_machine_parser_header_NameAddr_indicies[n];e=_tsip_machine_parser_header_NameAddr_trans_targs[n];if(_tsip_machine_parser_header_NameAddr_trans_actions[n]!=0){r=_tsip_machine_parser_header_NameAddr_trans_actions[n];k=_tsip_machine_parser_header_NameAddr_actions[r];r+=1;while(k>0){k-=1;r+=1;switch(_tsip_machine_parser_header_NameAddr_actions[r-1]){case 0:u=j;break;case 1:if(m&&!m.o_uri){var g=tsk_ragel_parser_get_string(l,j,u);if((m.o_uri=tsip_uri.prototype.Parse(g))&&m.s_display_name){m.o_uri.s_display_name=tsk_strdup(m.s_display_name)}}break;case 2:if(m){m.s_display_name=tsk_ragel_parser_get_string(l,j,u);m.s_display_name=tsk_string_unquote_2(m.s_display_name)}break;case 3:if(m){m.s_tag=tsk_ragel_parser_get_string(l,j,u)}break;case 4:tsk_ragel_add_param(l,j,u,m.ao_params);break;case 5:m=new tsip_header_From();break;case 6:m=new tsip_header_To();break;case 7:m=new tsip_header_Refer_To();break;case 8:m=new tsip_header_Referred_By();break;case 9:break}}}if(_trigger_goto){continue}}if(o<=q){if(e==0){o=s;continue}j+=1;if(j!=v){o=i;continue}}if(o<=t){}if(o<=s){break}}if(e<125){tsk_utils_log_error("Failed to parse header: "+l);return null}return m};function tsip_header_From(a,b){tsip_header_NameAddr.call(this,tsip_header_type_e.From,a,b)}function tsip_header_To(a,b){tsip_header_NameAddr.call(this,tsip_header_type_e.To,a,b)}function tsip_header_Refer_To(a){tsip_header_NameAddr.call(this,tsip_header_type_e.Refer_To,a)}function tsip_header_Referred_By(a){tsip_header_NameAddr.call(this,tsip_header_type_e.Referred_By,a)}if(!window.__b_release_mode){tsip_api_add_js_scripts("head","src/tinySIP/src/headers/tsip_header_NameAddrArray.js")};