tsip_session_message.prototype=Object.create(tsip_session.prototype);var tsip_event_message_type_e={I_MESSAGE:0,AO_MESSAGE:1};function tsip_event_message(d,a,c,b,e){this.__proto__=new tsip_event(d,a,c,b,tsip_event_type_e.MESSAGE);this.e_message_type=e}function tsip_session_message(a){tsip_session.call(this,a);this.__set(Array.prototype.slice.call(arguments,1))}tsip_session_message.prototype.send=function(b,c){if(!b){tsk_utils_log_error("Invalid argument");return -1}if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return -2}var d=-1;var a=new tsip_action(tsip_action_type_e.MESSAGE);if(a){var e=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.MESSAGE,this);if(e){a.set_content(b);if(c){a.add_headers(new tsip_header_Content_Type(c))}if((d=e.fsm_act(a.e_type,null,a))==0){}}}return d};