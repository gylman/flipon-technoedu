tsip_session_publish.prototype=Object.create(tsip_session.prototype);tsip_event_publish.prototype=Object.create(tsip_event.prototype);var tsip_event_publish_type_e={I_PUBLISH:0,AO_PUBLISH:1,I_UNPUBLISH:10,AO_UNPUBLISH:11};function tsip_event_publish(e,a,c,b,d){tsip_event.call(this,e,a,c,b,tsip_event_type_e.PUBLISH);this.e_publish_type=d}function tsip_session_publish(a){tsip_session.call(this,a);this.__set(Array.prototype.slice.call(arguments,1))}tsip_session_publish.prototype.publish=function(b,c){if(this.o_stack.e_state!=tsip_transport_state_e.STARTED){tsk_utils_log_error("Stack not started");return -2}var d=-1;var a=new tsip_action(tsip_action_type_e.PUBLISH);if(a){var e=this.o_stack.o_layer_dialog.find_by_ss(this);if(!e){e=this.o_stack.o_layer_dialog.dialog_new(tsip_dialog_type_e.PUBLISH,this)}a.set_content(b);if(c){a.add_headers(new tsip_header_Content_Type(c))}d=e.fsm_act(a.e_type,null,a)}return d};tsip_session_publish.prototype.unpublish=function(){return this.__action_any(tsip_action_type_e.UNPUBLISH)};