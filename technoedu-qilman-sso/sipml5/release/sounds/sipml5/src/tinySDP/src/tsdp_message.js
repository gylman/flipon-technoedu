tsdp_message.prototype.__s_o_username_default="webrtc";tsdp_message.prototype.__i_o_session_ver_default=2301;tsdp_message.prototype.__i_o_session_id_default=1983;tsdp_message.prototype.__s_s_value_default="-";function tsdp_message(c,b,a){this.ao_headers=new Array();if(c){this.add_headers(new tsdp_header_V(0),new tsdp_header_O(tsdp_message.prototype.__s_o_username_default,tsdp_message.prototype.__i_o_session_id_default,a,"IN",b?"IP6":"IP4",c));this.add_headers(new tsdp_header_S(tsdp_message.prototype.__s_s_value_default));this.add_headers(new tsdp_header_T(0,0))}}tsdp_message.prototype.get_media_type=function(){var c=this.has_media("audio");var b=this.has_media("video");var a=this.has_media("message");if(c&&b){return tmedia_type_e.AUDIO_VIDEO}else{if(c){return tmedia_type_e.AUDIO}else{if(b){return tmedia_type_e.VIDEO}else{if(a){return tmedia_type_e.MSRP}}}}return tmedia_type_e.NONE};tsdp_message.prototype.add_headers=function(){for(var a=0;a<arguments.length;++a){if(arguments[a]){this.ao_headers.push(arguments[a])}}this.ao_headers.sort(tsdp_header_compare_by_rank)};tsdp_message.prototype.add_header=function(a){this.add_headers(a)};tsdp_message.prototype.remove_header=function(a){for(var b=0;b<this.ao_headers.length;){if(this.ao_headers[b].e_type==a){this.ao_headers.splice(b,1);continue}++b}};tsdp_message.prototype.get_header_at=function(b,d){var a=0;for(var c=0;c<this.ao_headers.length;++c){if(this.ao_headers[c].e_type==b){if(a++>=d){return this.ao_headers[c]}}}return null};tsdp_message.prototype.get_header=function(a){return this.get_header_at(a,0)};tsdp_message.prototype.get_header_by_name=function(a){for(var b=0;b<this.ao_headers.length;++b){if(this.ao_headers[b].get_name()==a){return a}}return null};tsdp_message.prototype.get_header_a_at=function(d,c){if(!d||c<0){tsk_utils_log_error("Invalid argument");return null}var a=0;for(var b=0;b<this.ao_headers.length;++b){if(this.ao_headers[b].e_type==tsdp_header_type_e.A&&this.ao_headers[b].s_field==d){if(a++>=c){return this.ao_headers[b]}}}return null};tsdp_message.prototype.get_header_a=function(a){return this.get_header_a_at(a,0)};tsdp_message.prototype.add_media=function(c,b,a){this.add_headers(new tsdp_header_M(c,b,a))};tsdp_message.prototype.remove_media=function(b){for(var a=0;a<this.ao_headers.length;++a){if(this.ao_headers[a].e_type==tsdp_header_type_e.M){if(this.ao_headers[a].s_media==b){this.ao_headers.splice(a,1)}}}};tsdp_message.prototype.get_header_m_by_name=function(b){if(!b){tsk_utils_log_error("Invalid argument");return null}for(var a=0;a<this.ao_headers.length;++a){if(this.ao_headers[a].e_type==tsdp_header_type_e.M){if(tsk_string_iequals(this.ao_headers[a].s_media,b)){return this.ao_headers[a]}}}return null};tsdp_message.prototype.has_media=function(a){return this.get_header_m_by_name(a)!=null};tsdp_message.prototype.hold=function(b){if(!b){tsk_utils_log_error("Invalid argument");return -1}var a=this.get_header_m_by_name(b);if(a){a.hold(true)}return 0};tsdp_message.prototype.resume=function(b){if(!b){tsk_utils_log_error("Invalid argument");return -1}var a=this.get_header_m_by_name(b);if(a){a.resume(true)}return 0};tsdp_message.prototype.toString=function(b){var c="";if(!b){b="\r\n"}for(var a=0;a<this.ao_headers.length;++a){c+=this.ao_headers[a].tostring_full(false,b)}return c};if(!window.__b_release_mode){tsdp_api_add_js_scripts("head","src/tinySDP/src/tsdp_parser_message.js")};