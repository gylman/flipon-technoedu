Uri=function(a){this.piece_=a.replace(Uri.anchorRegExp_,"");this.fragment_=a.match(Uri.anchorRegExp_)||""};Uri.anchorRegExp_=/#.*/;Uri.prototype.setFragment=function(a){this.fragment_=a;return this};Uri.prototype.getFragment=function(){return this.fragment_};Uri.prototype.toString=function(){return this.piece_+(this.fragment_?"#"+this.fragment_:"")};Uri.anchorRegExp_=/#.*/;AttributesMap=function(){this.attributesMap_={}};AttributesMap.prototype.get=function(a){return this.attributesMap_[a]};AttributesMap.prototype.set=function(b,c){if(arguments.length===1){for(var a in b){if(b.hasOwnProperty(a)){this.call(a,b[a])}}}else{if(c===null){this.remove(b)}else{this.attributesMap_[b]=c}}return this};AttributesMap.prototype.clear=function(){this.attributesMap_={};return this};AttributesMap.prototype.remove=function(a){delete this.attributesMap_[a];return this};AttributesMap.prototype.has=function(a){return this.attributesMap_.hasOwnProperty(a)};AttributesMap.prototype.forEach=function(c,b){var d=this.attributesMap_;for(var a in d){c.call(b,d[a],a,d)}};AttributesMap.prototype.toString=function(){var a=[];this.forEach(function(c,b){a.push(b+'="'+c+'"')});return a.join(" ")};AnchorElement=function(){this.content="";this.attributesMap=new AttributesMap()};AnchorElement.prototype.toString=function(){return"<a "+this.attributesMap+">"+this.content+"</a>"};Link=function(){this.anchorElement=new AnchorElement()};Link.hashPrefix="";Link.base="";Link.symbolSet=null;Link.filemap=null;Link.symbolNameToLinkName=function(c){var b="",a="";if(c.isStatic){b="."}else{if(c.isInner){b="-"}}if(c.isEvent&&!/^event:/.test(c.name)){a="event:"}return Link.hashPrefix+b+a+c.name};Link.getSymbol=function(a){var b=Link.symbolSet.getSymbol(a);if(b){return b}if("#"!==a.toString().charAt(0)||!Link.currentSymbol){return null}return null};Link.prototype.target=function(a){this.setAttribute("target",a);return this};Link.prototype.inner=function(a){this.inner=a||"";return this};Link.prototype.toSymbol=function(a){this.alias=a||"";return this};Link.prototype.toSrc=function(a){this.src=a||"";return this};Link.prototype.toFile=function(a){this.file=a||"";return this};Link.prototype.toClass=function(a){return this.toSymbol(a)};Link.prototype.withText=function(a){this.anchorElement.content=a||"";return this};Link.prototype.setAttribute=function(a,b){this.anchorElement.attributesMap.set(a,b);return this};Link.prototype.setAttributes=function(a){this.anchorElement.attributesMap.set(a);return this};Link.prototype.getAttribute=function(a){return this.anchorElement.attributesMap.get(a)};Link.prototype.makeSymbolLink_=function(e){var b=Link.base+publish.conf.symbolsDir;var g=Link.getSymbol(e);var h;this.anchorElement.content=this.anchorElement.content||e;var d=this.anchorElement.content;if(g){if(!g.is("CONSTRUCTOR")&&!g.isNamespace){var c;if(Link.filemap){c=Link.filemap[g.memberOf]}else{c=escape(g.memberOf)||"_global_"}c+=publish.conf.ext;h=new Uri(b+c);h.setFragment(Link.symbolNameToLinkName(g))}else{var c=(Link.filemap)?Link.filemap[g.alias]:escape(g.alias);c+=publish.conf.ext;h=new Uri(b+c)}}else{return d}this.setAttribute("href",h);var a=h.getFragment();var f={linkPath:h.toString(),linkText:d,linkInner:(a?"#"+a:"")};if(typeof JSDOC.PluginManager!="undefined"){JSDOC.PluginManager.run("onSymbolLink",f)}return this.anchorElement};Link.prototype.makeSrcLink_=function(d){var c=d.replace(/\.\.?[\\\/]/g,"").replace(/[:\\\/]/g,"_");var b=Link.base+publish.conf.srcDir+c+publish.conf.ext;var a=new Uri(b).setFragment(this.inner);this.anchorElement.attributesMap.set("href",a);this.anchorElement.content=this.anchorElement.content||d;return this.anchorElement};Link.prototype.makeFileLink_=function(b){var c=Link.base+b;var a=new Uri(c).setFragment(this.inner);this.setAttribute("href",a);this.anchorElement.content=this.anchorElement.content||b;return this.anchorElement};Link.prototype.toString=function(){if(this.alias){return this.makeSymbolLink_(this.alias).toString()}else{if(this.src){return this.makeSrcLink_(this.src).toString()}else{if(this.file){return this.makeFileLink_(this.file).toString()}else{return""}}}};